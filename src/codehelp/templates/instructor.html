{#
SPDX-FileCopyrightText: 2023 Mark Liffiton <liffiton@gmail.com>

SPDX-License-Identifier: AGPL-3.0-only
#}

{% extends "instructor_base.html" %}
{% block contexts %}

{{ datatable(
  'contexts',
  [
    ('id', 'id'),
    ('name', 'name')
  ],
  contexts,
  hidden_cols=['id'],
  link_col=0,
  link_template="?context=${value}",
  csv_link=url_for("instructor.get_csv", kind="contexts")
)
}}
{% endblock %}

{% block summary %}
    <p>{{summary | safe}}</p>
{% endblock %}


{% block instructor_queries %}
{{
datatable('queries', [
    ('id', 'id'),
    ('user', 'display_name'),
    ('time', 'query_time'),
    ('context_id', 'context_id'),
    ('context', 'context_name'),
    ('code', 'code'),
    ('error', 'error'),
    ('issue', 'issue'),
    ('response (len)', 'response_text'),
    ('helpful', 'helpful_emoji')
  ],
  queries,
  hidden_cols=['id','context_id'],
  link_col=0,
  link_template="/help/view/${value}",
  csv_link=url_for("instructor.get_csv", kind="queries")
)
}}
{% endblock %}
